<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SatlockApp.Views.MapPage"
             xmlns:webview="clr-namespace:Xam.Plugin.WebView.Abstractions;assembly=Xam.Plugin.WebView.Abstractions"
             BackgroundColor="White"
             Title="Mapa"
             BindingContext="{Binding Main, Source={StaticResource Locator}}">
    <ContentPage.Content>
        <StackLayout
           BindingContext="{Binding Map}">
            <Button Text="Fire JS event" Grid.Row="1" Grid.Column="0" Clicked="Button_Clicked" />
            <Grid 
                VerticalOptions="FillAndExpand"
                  HorizontalOptions="FillAndExpand">
                <ActivityIndicator x:Name="Loader" Color="#e95936" IsRunning="True" HorizontalOptions="CenterAndExpand" />
                <webview:FormsWebView
                    x:Name="Webview" 
                    ContentType="LocalFile" 
                    Source="map.html"
                    OnNavigationStarted="OnNavigationStarted" OnNavigationCompleted="OnNavigationCompleted"
                    OnContentLoaded="OnContentLoaded" OnNavigationError="OnNavigationError"/>
            </Grid>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>